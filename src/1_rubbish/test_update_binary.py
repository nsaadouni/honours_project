from smartcard.System import readers


r = readers()
print "Available readers:", r
reader = r[-1]
print "Using:", reader
connection = reader.createConnection()
connection.connect()


# APDU Command 80 A4 08 00 04 3F 00 00 20 00
command = [128, 164, 8, 0, 4, 63, 0, 0, 32, 00]
data, sw1, sw2 = connection.transmit(command)
print '----- APDU command/response pair 11 -----'
print 'C 80 A4 08 00 04 3F 00 00 20'
print 'R: %02X %02X' % (sw1, sw2)
print data
print ''



command = [0x00, 0xd6, 0x00, 0x04, 0x4, 0x62, 0x2F, 0x87, 0x01, 0x08, 0x83, 0x02, 0x00, 0x20, 0x80, 0x02, 0x00, 0x10, 0x8A, 0x01, 0x04, 0x86, 0x0E, 0x00, 0xFF, 0xC0, 0x30, 0x00, 0xFF, 0x00, 0x10, 0x00, 0xFF, 0x00, 0x10, 0x00, 0x00, 0x85, 0x0F, 0x00, 0x01, 0x00, 0x00, 0xAA, 0x00, 0x04, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF]

data, sw1, sw2 = connection.transmit(command)
print 'R: %02X %02X' % (sw1, sw2)
print data
print ''
